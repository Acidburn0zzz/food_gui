# Author: Evgeniy "arcanis" Alexeev <esalexeev@gmail.com>
# Maintainer: Evgeniy "arcanis" Alexeev <esalexeev@gmail.com>

pkgname=food_gui
pkgver=20130304
pkgrel=1
pkgdesc=" Food_gui is a simple program-calculator written on Python2.7 with GUI interface (Qt4) "
url="https://github.com/arcan1s/food_gui"
license=("GPL")
arch=('i686' 'x86_64')
makedepends=('git')
depends=('python2-pyqt')
source=('')

_gitroot="git://github.com/arcan1s/food_gui.git"
_gitname="food_gui"

build() {
  if [ -d $srcdir/$_gitname ]
  then
    msg "Updating local repository"
    cd $srcdir/$_gitname && git pull
  else
    git clone $_gitroot
    cd $_gitname
  fi
}

package() {
  install -D -m755 $srcdir/$_gitname/linux/food_gui.py $pkgdir/usr/bin/food_gui

  install -D -m644 $srcdir/$_gitname/linux/db_eng.dat $pkgdir/usr/lib/food_gui/db_eng.dat
  install -D -m644 $srcdir/$_gitname/linux/db_rus.dat $pkgdir/usr/lib/food_gui/db_rus.dat
  
  install -D -m644 $srcdir/$_gitname/linux/food_gui.1 $pkgdir/usr/share/man/man1/food_gui.1
}
